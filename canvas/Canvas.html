<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>画板</title>
<link href="Canvas.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="footer">
请输入颜色编码：
<input id="form" type="text" name="color" />
<input type="button" value="修改颜色" onclick="changeColor()" />
<br/><br/>
请输入画笔粗细：
<input id="thick" type="text" name="thickness" />
<input type="button" value="修改粗细" onclick="changeThickness()" />
<br/><br/>
请输入橡皮擦粗细：
<input id="rubber" type="text" name="howbig" />
<input type="image" src="图标/eraser.png" height="20" value="点我使用" onclick="useEraser()"  />
</div> 
	<canvas id="myCanvas" width="1300" height="600" style="border:1px solid blue;" onmousedown="mousedown()" onmousemove="mousemove()" onmouseup="mouseup()" > 
    </canvas>
    
<script>
	function changeColor()//改变颜色
	{
		cxt.strokeStyle=(""+form.value+"");
	}
	function changeThickness()//改变笔触粗细
	{
		cxt.lineWidth=(""+thick.value+"");
	}
	function useEraser()//使用橡皮
	{
		cxt.lineWidth=(""+thick.value+"");
		cxt.strokeStyle="white";
	}
	
	var beginx=0,beginy=0,movex=0,movey=0;
	var ismouseDown=false;
	var c = document.getElementById("myCanvas");
	var cxt = c.getContext("2d");
	
	function mousedown()
	{
		beginx=event.clientX;//获取当前鼠标坐标
		beginy=event.clientY-60;
		cxt.beginPath();
		cxt.moveTo(beginx,beginy);
		ismouseDown=true;
		
	}
	function mouseup()
	{
		ismouseDown=false;
	}
	function mousemove()
	{	
		if(ismouseDown==true)
		{
			movex=event.clientX;
			movey=event.clientY-60;
			cxt.lineTo(movex,movey);
			cxt.stroke();
		}
		
	}
	

</script>
</body>
</html>
